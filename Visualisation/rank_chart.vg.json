{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "background": "#FFF5EE",
    "data": {
        "url": "https://raw.githubusercontent.com/actaeon02/FIT3179/main/Visualisation/Dataset.csv"
    },
    "transform": [
        {
            "sort": [
                {"field": "DENSITY", "order": "descending"},
                {"field": "POPULATION", "order": "descending"}
            ],
            "window": [
                {
                    "op": "rank",
                    "as": "rank"
                }
            ],
            "groupby": [
                "STATES"
            ]
        }
    ],
    "mark": {
        "type": "line",
        "orient": "vertical"
    },
    "encoding": {
        "x": {
            "field": "STATES", "type": "ordinal"
        },
        "y": {
            "field": "rank", "type": "ordinal"
        },
        "color": {
            "field": "STATES", "type": "nominal",
            "scale": {
                "domain": ["Johor", "Kedah", "Kelantan", "Melaka", "Negeri Sembilan", "Pahang", "Penang", "Perak", "Perlis", "Sabah", "Sarawak", "Selangor", "Terengganu"],
                "range": ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf", "#aec7e8", "#ffbb78", "#98df8a"]
            }
        }
    }
}