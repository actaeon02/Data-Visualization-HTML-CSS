{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/actaeon02/FIT3179/main/Visualisation/Dataset.csv"
    },
    "width": "container",
    "height": 400,
    "background": "#FFF5EE",
    "params": [
      {
          "name": "year_select",
          "value": 2000,
          "bind": {
              "input": "range",
              "min": 1980,
              "max": 2016,
              "step": 1,
              "name": "Select Year"
          }
      }
    ],
    "transform": [
      {
        "filter": "datum.YEAR == year_select"
      },
      {
      "calculate": "format(datum.POPULATION, ',d') + ' People'", 
      "as": "PopulationTooltip"
      }
    ],
    "mark": {
      "type": "bar",
      "cornerRadiusEnd": 5
    },
    "encoding": {
      "x": {
        "field": "POPULATION",
        "type": "quantitative",
        "axis": {"title": "Population"},
        "scale": {
          "domain": [0, 7000000]
        }
      },
      "y": {
        "field": "STATES",
        "type": "nominal",
        "axis": {"title": "Year"}
      },
      "color": {
        "field": "STATES",
        "type": "nominal",
        "scale": {
          "domain": ["Johor", "Kedah", "Kelantan", "Melaka", "Negeri Sembilan", "Pahang", "Penang", "Perak", "Perlis", "Sabah", "Sarawak", "Selangor", "Terengganu"],
          "range": ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf", "#aec7e8", "#ffbb78", "#98df8a"]
        }
      },
      "tooltip": [
        {"field": "STATES", "type": "nominal", "title": "State"},
        {"field": "PopulationTooltip", "type": "nominal", "title": "Population"}
      ]
    },
    "config": {
      "view": {"stroke": null}
    }
  }
  